<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Girlfriend Times</title>
    <!-- NYT Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Playfair+Display:ital,wght@0,700;1,700&family=Open+Sans:wght@600;700&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --nyt-bg: #fdfcf0;
            --nyt-black: #121212;
            --wordle-correct: #6aaa64;
            --wordle-present: #c9b458;
            --wordle-absent: #787c7e;
            --wordle-border: #d3d6da;
            --wordle-font: 'Open Sans', Helvetica, Arial, sans-serif;
            --nyt-blue: #567b95;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: #d8d8d8;
            color: var(--nyt-black);
            font-family: 'Libre Baskerville', serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .hidden { display: none !important; }

        /* Paper Overlay Texture */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            opacity: 0.35;
            pointer-events: none;
            z-index: 1000;
        }

        /* --- PHASE 1: THE NEWSPAPER --- */
        #paper-container {
            max-width: 1100px;
            margin: 10px auto;
            background: var(--nyt-bg);
            padding: 20px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.2);
            border: 1px solid #c0c0c0;
            position: relative;
        }

        @media (min-width: 768px) {
            #paper-container { margin: 40px auto; padding: 60px 50px; }
        }

        .masthead { 
            text-align: center; 
            margin-bottom: 5px;
            padding-top: 10px;
        }
        
        .masthead h1 {
            font-family: 'UnifrakturMaguntia', cursive;
            font-size: clamp(55px, 13vw, 115px);
            margin: 0; 
            font-weight: 400;
            line-height: 0.85;
        }

        .motto {
            font-size: 11px; 
            text-align: center; 
            border-bottom: 1px solid var(--nyt-black);
            padding: 8px 0; 
            text-transform: uppercase; 
            letter-spacing: 2.5px;
            font-family: 'Open Sans', sans-serif;
            font-weight: 700;
        }

        /* FIXED DATE BAR SPACING */
        .date-bar {
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            font-size: 10px;
            padding: 6px 0; 
            border-bottom: 4px double var(--nyt-black); /* Authentic NYT rule */
            font-weight: 700; 
            margin-bottom: 35px;
            font-family: Arial, sans-serif;
            text-transform: uppercase;
        }

        .date-bar span { flex: 1; }
        .date-bar .date-center { flex: 2; text-align: center; font-size: 11px; }
        .date-bar .price-right { text-align: right; }

        .main-headline {
            font-family: 'Playfair Display', serif;
            font-size: clamp(30px, 6.5vw, 64px);
            line-height: 1.05; 
            text-align: center;
            font-weight: 700; 
            margin-bottom: 30px;
            letter-spacing: -1.8px;
            padding: 0 15px;
        }

        /* IMPROVED ARTICLE GRID SPACING */
        .article-grid {
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 40px; 
        }
        
        @media (min-width: 768px) {
            .article-grid { grid-template-columns: 1.2fr 1fr 0.8fr; }
        }

        .column { text-align: justify; font-size: 15.5px; line-height: 1.6; }
        
        @media (min-width: 768px) {
            .column:not(:last-child) { border-right: 1px solid #ddd; padding-right: 25px; }
        }

        .dropcap {
            float: left; 
            font-size: 75px; 
            line-height: 60px;
            padding-top: 4px;
            padding-right: 12px; 
            font-weight: 700; 
            font-family: 'Playfair Display', serif;
        }

        .byline {
            font-family: Arial, sans-serif; 
            font-weight: bold; 
            font-size: 11px;
            text-transform: uppercase; 
            margin-bottom: 18px; 
            display: block;
            border-bottom: 1px solid #eee; 
            padding-bottom: 8px;
        }

        .correction-box {
            font-size: 12px; 
            font-style: italic; 
            background: rgba(0,0,0,0.02);
            padding: 12px; 
            border: 1px solid #ddd; 
            margin-bottom: 25px;
        }
        
        .classifieds { 
            border-top: 2px solid #000; 
            margin-top: 25px; 
            padding-top: 15px; 
        }
        
        .classified-item { 
            font-size: 12px; 
            margin-bottom: 12px; 
            border-bottom: 1px solid #eee; 
            padding-bottom: 8px; 
        }
        
        .classified-item b { font-size: 10px; text-transform: uppercase; color: #444; }

        .side-widget {
            border: 1px solid #000; 
            padding: 15px; 
            background: #fff; 
            margin-top: 25px;
        }
        
        .side-widget h3 {
            font-family: Arial, sans-serif; 
            font-size: 11px;
            text-transform: uppercase; 
            border-bottom: 1px solid #000; 
            margin-bottom: 8px;
        }

        .turn-page {
            display: inline-block; 
            margin-top: 40px; 
            font-weight: 700;
            color: var(--nyt-blue); 
            cursor: pointer; 
            text-decoration: underline;
            font-style: italic; 
            font-size: 15px;
        }

        /* --- PHASE 2: LETTER --- */
        #letter-view {
            max-width: 600px; 
            margin: 60px auto; 
            background: white;
            padding: 50px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.1); 
            border-radius: 2px;
        }
        
        .signature { 
            font-family: 'Dancing Script', cursive; 
            font-size: 36px; 
            color: #2c3e50; 
            margin-top: 15px; 
        }

        /* --- PHASE 3: THE PUZZLE --- */
        #puzzle-view { 
            max-width: 100%; 
            margin: 0 auto; 
            text-align: center; 
            padding: 10px; 
        }
        
        .wordle-title { 
            font-family: 'Playfair Display', serif; 
            font-size: 34px; 
            margin-bottom: 20px; 
            font-weight: 700; 
        }
        
        .grid-container { 
            display: flex; 
            flex-direction: column; 
            gap: 6px; 
            align-items: center; 
            margin-bottom: 20px; 
        }
        
        .wordle-row { display: flex; gap: 4px; }
        
        .tile {
            width: clamp(30px, 9.4vw, 55px); 
            height: clamp(30px, 9.4vw, 55px);
            border: 2px solid var(--wordle-border); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: clamp(18px, 5vw, 30px); 
            font-weight: 700; 
            text-transform: uppercase; 
            background: white;
            font-family: var(--wordle-font);
            transition: transform 0.4s;
        }
        
        .tile.correct { background: var(--wordle-correct); border-color: var(--wordle-correct); color: white; }
        .tile.present { background: var(--wordle-present); border-color: var(--wordle-present); color: white; }
        .tile.absent { background: var(--wordle-absent); border-color: var(--wordle-absent); color: white; }

        .keyboard { 
            display: flex; 
            flex-direction: column; 
            gap: 8px; 
            margin: 30px auto; 
            max-width: 500px; 
            padding: 0 5px; 
        }
        
        .key-row { display: flex; justify-content: center; gap: 6px; }
        
        .key {
            background: #d3d6da; 
            flex: 1; 
            height: 58px; 
            border-radius: 4px;
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-weight: 700; 
            font-size: 13px; 
            cursor: pointer; 
            font-family: var(--wordle-font);
        }
        
        .key.wide { flex: 1.5; font-size: 11px; }

        /* --- PHASE 4: REVEAL --- */
        .final-msg { 
            font-family: 'Playfair Display', serif; 
            font-size: clamp(24px, 6vw, 38px); 
            font-weight: 700; 
        }
        
        .footer-credit { 
            font-size: 14px; 
            color: #666; 
            font-style: italic; 
            margin-top: 15px; 
            font-family: 'Libre Baskerville'; 
        }
        
        .yes-btn {
            background: var(--nyt-blue); 
            color: white; 
            padding: 15px 60px;
            border: none; 
            border-radius: 30px; 
            font-size: 22px; 
            cursor: pointer;
            font-weight: bold; 
            margin-top: 30px;
        }

        /* Coffee Stain */
        .coffee-stain {
            position: absolute; 
            width: 100px; 
            height: 100px;
            background: radial-gradient(circle, rgba(111, 78, 55, 0.15) 0%, transparent 75%);
            border-radius: 50%; 
            pointer-events: none; 
            z-index: 10;
        }
    </style>
</head>
<body onclick="addInk(event)">

    <!-- PHASE 1: THE NEWSPAPER -->
    <main id="paper-container">
        <header class="masthead">
            <h1>The Girlfriend Times</h1>
            <div class="motto">All the Love That's Fit to Print</div>
            <div class="date-bar">
                <span>Niv Edition</span>
                <span class="date-center">Monday, January 12, 2026</span>
                <span class="price-right">Price: One Kiss</span>
            </div>
        </header>

        <section id="news-content">
            <h1 class="main-headline">Man Credits Entire Personality to Woman Whose Instagram Story He Replied To</h1>
            
            <div class="article-grid">
                <div class="column">
                    <span class="byline">By THE LOVE DESK (Niv reporting)</span>
                    <div class="correction-box">
                        <strong>Correction:</strong> An earlier version of this report suggested the man was "playing it cool." Close sources have since clarified he was actually screaming internally while waiting for a reply.
                    </div>
                    <p><span class="dropcap">I</span>n a story that has stunned the digital dating community, local man Niv has officially confirmed that hitting 'send' on an Instagram reply was the single greatest executive decision of his adult life.</p>
                    <p>"I wasn't even planning on it," Niv remarked in a sit-down interview. "One moment I was just scrolling, and the next, I was looking at Aaradhya's story. It felt like the universe was giving me a hint."</p>
                </div>
                
                <div class="column">
                    <p>Witnesses confirm that <strong>Aaradhya</strong> remains "absurdly out of Niv's league," a fact that Niv acknowledges in nearly every public statement. However, much to the delight of the general public, she has decided to stick around anyway.</p>
                    <p>“She brings a level of class and radiance to his life that honestly, we didn't think he could handle,” said one associate. “It’s a miracle of the modern age. His aesthetic and mood have improved by 400%.”</p>
                    <p>The relationship has since evolved into what relationship experts are calling "genuinely very sweet" and "perfectly balanced."</p>
                </div>

                <div class="column">
                    <div class="side-widget">
                        <h3 style="border-bottom: 1px solid #000; margin-bottom: 5px;">HOROSCOPE</h3>
                        <p style="font-size: 13px;"><strong>VIRGO:</strong> A digital puzzle on the back page will reveal a significant message today. Don't overthink the green tiles.</p>
                    </div>
                    
                    <div class="classifieds">
                        <div class="classified-item"><b>WANTED:</b> Someone to spend every Monday morning with. <b>FOUND:</b> Aaradhya.</div>
                        <div class="classified-item"><b>LOST:</b> Niv's ability to act normal when she's around. <b>REWARD:</b> Her smile.</div>
                        <div class="classified-item"><b>PUBLIC NOTICE:</b> Niv is the luckiest man in the 212 area code.</div>
                    </div>

                    <div class="side-widget">
                        <h3>WEATHER</h3>
                        <p style="font-size: 13px;"><strong>BRIGHT:</strong> 100% chance of a special message. Highs of joy, lows of zero regrets.</p>
                    </div>
                    
                    <span class="turn-page" onclick="toLetter()">Turn to Page 2, Editorial →</span>
                </div>
            </div>
        </section>
    </main>

    <!-- PHASE 2: EDITORIAL -->
    <section id="letter-view" class="hidden">
        <div style="font-size: 19px; line-height: 1.8;">
            <p>dear aaradhya,</p>
            <br>
            <p>i know it’s just a regular monday, but looking at you makes every day feel like front-page news. i wanted to make something that captures how lucky i feel to have you in my life.</p>
            <p>if you turn to the back page, you’ll find our daily connection puzzle. i have a very specific message for you there.</p>
            <br>
            <p>yours always,</p>
            <div class="signature">niv</div>
            <br>
            <span class="turn-page" onclick="toPuzzle()">Solve "The Daily Connection" →</span>
        </div>
    </section>

    <!-- PHASE 3: THE PUZZLE -->
    <section id="puzzle-view" class="hidden">
        <h2 class="wordle-title">The Daily Connection</h2>
        <div id="grid-container" class="grid-container"></div>
        <p id="hint-text" style="font-weight: 700; color: var(--nyt-blue); height: 20px; margin-bottom: 20px; font-family: var(--wordle-font); font-size: 14px;"></p>

        <div class="keyboard">
            <div class="key-row"><div class="key" onclick="press('Q')">Q</div><div class="key" onclick="press('W')">W</div><div class="key" onclick="press('E')">E</div><div class="key" onclick="press('R')">R</div><div class="key" onclick="press('T')">T</div><div class="key" onclick="press('Y')">Y</div><div class="key" onclick="press('U')">U</div><div class="key" onclick="press('I')">I</div><div class="key" onclick="press('O')">O</div><div class="key" onclick="press('P')">P</div></div>
            <div class="key-row"><div class="key" onclick="press('A')">A</div><div class="key" onclick="press('S')">S</div><div class="key" onclick="press('D')">D</div><div class="key" onclick="press('F')">F</div><div class="key" onclick="press('G')">G</div><div class="key" onclick="press('H')">H</div><div class="key" onclick="press('J')">J</div><div class="key" onclick="press('K')">K</div><div class="key" onclick="press('L')">L</div></div>
            <div class="key-row"><div class="key wide" onclick="press('ENTER')">ENTER</div><div class="key" onclick="press('Z')">Z</div><div class="key" onclick="press('X')">X</div><div class="key" onclick="press('C')">C</div><div class="key" onclick="press('V')">V</div><div class="key" onclick="press('B')">B</div><div class="key" onclick="press('N')">N</div><div class="key" onclick="press('M')">M</div><div class="key wide" onclick="press('DEL')">DEL</div></div>
        </div>
    </section>

    <!-- PHASE 4: REVEAL -->
    <section id="final-view" class="hidden" style="text-align: center; padding: 50px 20px;">
        <div id="stack-container" style="display:flex; flex-direction:column; align-items:center; gap:8px; margin-bottom: 30px;"></div>
        <div id="typewriter" class="final-msg"></div>
        <div id="niv-footer" class="footer-credit hidden">From Niv, with all my love.</div>
        <button id="yes-btn" class="yes-btn hidden" onclick="celebrate()">Confirm</button>
    </section>

    <script>
        const puzzles = [
            { word: "I", hint: "First Person Singular" },
            { word: "WILL", hint: "Going to" },
            { word: "BE", hint: "Infinitive Verb" },
            { word: "YOUR", hint: "Possessive Pronoun" },
            { word: "VALENTINE", hint: "The final connection." }
        ];

        let currentIdx = 0, currentGuess = "", rowIdx = 0, solvedWords = [];

        function toLetter() {
            document.getElementById('paper-container').classList.add('hidden');
            document.getElementById('letter-view').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function toPuzzle() {
            document.getElementById('letter-view').classList.add('hidden');
            document.getElementById('puzzle-view').classList.remove('hidden');
            initGrid();
        }

        function initGrid() {
            const container = document.getElementById('grid-container');
            container.innerHTML = "";
            const word = puzzles[currentIdx].word;
            document.getElementById('hint-text').innerText = puzzles[currentIdx].hint;
            for (let r = 0; r < 6; r++) {
                const row = document.createElement('div');
                row.className = 'wordle-row';
                for (let c = 0; c < word.length; c++) {
                    const t = document.createElement('div');
                    t.className = 'tile'; t.id = `tile-${r}-${c}`; row.appendChild(t);
                }
                container.appendChild(row);
            }
        }

        function press(key) {
            const word = puzzles[currentIdx].word;
            if (key === 'DEL') currentGuess = currentGuess.slice(0, -1);
            else if (key === 'ENTER') {
                if (currentGuess.length === word.length) submitGuess();
            } else if (currentGuess.length < word.length && /^[A-Z]$/.test(key)) {
                currentGuess += key;
            }
            updateTiles();
        }

        function updateTiles() {
            const wordLen = puzzles[currentIdx].word.length;
            for (let i = 0; i < wordLen; i++) {
                const tile = document.getElementById(`tile-${rowIdx}-${i}`);
                if (tile) {
                    tile.innerText = currentGuess[i] || "";
                    tile.style.borderColor = currentGuess[i] ? "#878a8c" : "#d3d6da";
                }
            }
        }

        function submitGuess() {
            const target = puzzles[currentIdx].word;
            const guess = currentGuess;
            for (let i = 0; i < target.length; i++) {
                const tile = document.getElementById(`tile-${rowIdx}-${i}`);
                setTimeout(() => {
                    tile.style.transform = "rotateX(90deg)";
                    setTimeout(() => {
                        if (guess[i] === target[i]) tile.classList.add('correct');
                        else if (target.includes(guess[i])) tile.classList.add('present');
                        else tile.classList.add('absent');
                        tile.style.transform = "rotateX(0deg)";
                    }, 150);
                }, i * 150);
            }
            setTimeout(() => {
                if (guess === target) {
                    solvedWords.push(target);
                    if (currentIdx < puzzles.length - 1) {
                        currentIdx++; rowIdx = 0; currentGuess = ""; initGrid();
                    } else showReveal();
                } else {
                    rowIdx++; currentGuess = "";
                    if (rowIdx === 6) { alert("Try again, love!"); rowIdx = 0; initGrid(); }
                }
            }, target.length * 150 + 400);
        }

        function showReveal() {
            document.getElementById('puzzle-view').classList.add('hidden');
            document.getElementById('final-view').classList.remove('hidden');
            const stack = document.getElementById('stack-container');
            solvedWords.forEach(word => {
                const row = document.createElement('div');
                row.className = 'wordle-row';
                word.split('').forEach(char => {
                    const t = document.createElement('div');
                    t.className = 'tile correct'; t.innerText = char;
                    t.style.width = '35px'; t.style.height = '35px'; t.style.fontSize = '1.1rem';
                    row.appendChild(t);
                });
                stack.appendChild(row);
            });
            setTimeout(() => {
                let i = 0, txt = "Great! You’re my valentine now.";
                function type() {
                    if (i < txt.length) {
                        document.getElementById('typewriter').innerHTML += txt.charAt(i);
                        i++; setTimeout(type, 60);
                    } else {
                        document.getElementById('yes-btn').classList.remove('hidden');
                        document.getElementById('niv-footer').classList.remove('hidden');
                    }
                }
                type();
            }, 1000);
        }

        function celebrate() {
            confetti({ particleCount: 200, spread: 80, origin: { y: 0.6 } });
            document.getElementById('yes-btn').innerText = "Confirmed";
        }

        function addInk(e) {
            const stain = document.createElement('div');
            stain.className = 'coffee-stain';
            stain.style.left = (e.pageX - 50) + 'px'; stain.style.top = (e.pageY - 50) + 'px';
            document.body.appendChild(stain);
            setTimeout(() => stain.remove(), 5000);
        }

        window.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') press('ENTER');
            else if (e.key === 'Backspace') press('DEL');
            else if (/^[a-zA-Z]$/.test(e.key)) press(e.key.toUpperCase());
        });
    </script>
</body>
</html>